---
import Layout from '@/layouts/Layout.astro';
import { type GetStaticPaths } from 'astro';
import { getEntry } from 'astro:content';
import { getCollection } from 'astro:content';

export const getStaticPaths: GetStaticPaths = async () => {
  const articles = await getCollection("articles");

  return articles.map((entry) => ({
    params: { id: entry.slug },
  }));
};

const { id } = Astro.params;
const entry = await getEntry("articles", id as string)!;

const { Content } =  await entry.render();
---

<Layout title={entry.data.title}>
	<article>
		<Content />
	</article>
</Layout>
